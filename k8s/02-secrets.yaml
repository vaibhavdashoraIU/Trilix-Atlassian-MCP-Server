apiVersion: v1
kind: Secret
metadata:
  name: trilix-secrets
  namespace: trilix
type: Opaque
stringData:
  # PostgreSQL credentials
  POSTGRES_USER: "trilix"
  POSTGRES_PASSWORD: "secret"  # Replace with actual password
  
  # RabbitMQ credentials
  RABBITMQ_DEFAULT_USER: "trilix"
  RABBITMQ_DEFAULT_PASS: "secret"  # Replace with actual password
  
  # Clerk API keys

  CLERK_API_URL: "https://api.clerk.com"
  CLERK_PUBLISHABLE_KEY: "pk_test_Zmx5aW5nLWtvYWxhLTEwLmNsZXJrLmFjY291bnRzLmRldiQ"
  CLERK_SECRET_KEY: "sk_test_lQRbMQNUnWlkxGvijfogFnKgwd2Nsfosf105B0HGhG"
  
  # Database connection string
  DATABASE_URL: "postgres://trilix:secret@postgres.trilix.svc.cluster.local:5432/trilix_mcp?sslmode=disable"
  
  # Encryption key for credentials
  API_KEY_ENCRYPTION_KEY: "abcdefghijklmnopqrstuvwxyz123456"  # Must be 32 characters
---
# Note: For production, use AWS Secrets Manager with External Secrets Operator
# This is a placeholder for development/testing
apiVersion: v1
kind: ConfigMap
metadata:
  name: external-secrets-config
  namespace: trilix
data:
  instructions: |
    To use AWS Secrets Manager in production:
    1. Install External Secrets Operator: kubectl apply -f https://raw.githubusercontent.com/external-secrets/external-secrets/main/deploy/crds/bundle.yaml
    2. Create SecretStore pointing to AWS Secrets Manager
    3. Create ExternalSecret resources to sync secrets
    4. Update deployment to use synced secrets
